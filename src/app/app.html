<div class="container">
  <h1>Probability Calculator</h1>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <label>
      Probability A (0 to 1):
      <input type="number" formControlName="probabilityA" step="any" min="0" max="1" />
    </label>
    <div *ngIf="form.controls['probabilityA'].invalid && form.controls['probabilityA'].touched" class="error">
      Please enter a valid probability (0 to 1).
    </div>
    
    <label>
      Probability B (0 to 1):
      <input type="number" formControlName="probabilityB" step="any" min="0" max="1" />
    </label>
    <div *ngIf="form.controls['probabilityB'].invalid && form.controls['probabilityB'].touched" class="error">
      Please enter a valid probability (0 to 1).
    </div>
    
    <label>
      Operation:
      <select formControlName="operation">
        <option *ngFor="let fn of functions" [value]="fn.name">{{fn.label}}</option>
      </select>
    </label>
    
    <div class="button-row">
      <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Calculate</button>
      <button type="button" class="btn btn-secondary" (click)="clear()">Clear</button>
    </div>
  </form>

  <div class="result" *ngIf="result !== null">
    <h2>Result: {{ result }}</h2>
  </div>

  <div class="error" *ngIf="error">{{ error }}</div>
</div>